<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="robots" content="noindex,nofollow"/>
  <title>Adex Holdings Trust | Admin</title>

  <!-- ABSOLUTE HARD BLOCK (executes before ANYTHING else) -->
  <script>
    (function () {
      const allowedHost = "admin.adexholdings.com";

      if (location.hostname !== allowedHost) {
        document.open();
        document.write(`
          <!doctype html>
          <html lang="en">
          <head>
            <meta charset="utf-8"/>
            <meta name="viewport" content="width=device-width, initial-scale=1"/>
            <meta name="robots" content="noindex,nofollow"/>
            <title>Access Restricted</title>
            <style>
              body {
                margin: 0;
                height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                background: #f5f6f8;
                font-family: Arial, Helvetica, sans-serif;
                color: #333;
              }
              .box {
                max-width: 600px;
                background: #ffffff;
                padding: 40px;
                border-radius: 10px;
                box-shadow: 0 14px 40px rgba(0,0,0,0.1);
                text-align: center;
              }
              h2 {
                margin-top: 0;
                margin-bottom: 12px;
              }
              p {
                line-height: 1.6;
                margin: 10px 0;
              }
            </style>
          </head>
          <body>
            <div class="box">
              <h2>Access Restricted</h2>
              <p>
                This account has no access to this page.
              </p>
              <p>
                Please use the appropriate link to access the required page or
                contact <strong>Adex Holdings, LLC</strong> or
                <strong>Adex Holdings Trust</strong>.
              </p>
            </div>
          </body>
          </html>
        `);
        document.close();
        throw new Error("Blocked: unauthorized host");
      }
    })();
  </script>

  <!-- SAFE TO LOAD ONLY AFTER HOST VALIDATION -->
  <link rel="icon" href="assets/logo.png"/>
  <link rel="stylesheet" href="assets/styles.css"/>
</head>

<body>

<div class="container">

  <div class="nav">
    <a class="brand" href="index.html">
      <img src="assets/logo.png" alt="Adex Holdings Trust logo"/>
      <div>
        <div class="title">ADEX HOLDINGS TRUST</div>
        <div class="subtitle">Residential rentals & land holdings</div>
      </div>
    </a>
  </div>

  <div class="card" style="margin-top:18px">
    <div class="kicker">Admin</div>
    <div class="h1" style="font-size:30px">Availability toggle</div>

    <div id="adminWrap">
      <p class="lead">
        Set each rental to <b>Rented</b> or <b>Available</b>.
      </p>

      <div class="row2">
        <div>
          <label for="adminToken">Admin Token</label>
          <input id="adminToken" placeholder="Paste Bearer token here"/>
        </div>
      </div>

      <div id="adminList" class="form"></div>

      <div class="btnRow">
        <button id="saveBtn" class="btn primary" type="button">
          Save availability
        </button>
      </div>
    </div>
  </div>

</div>

<!-- ADMIN JS LOADS ONLY IF HOST IS CORRECT -->
<script src="assets/data.js"></script>
<script src="assets/app.js"></script>

</body>
</html>
