<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Adex Holdings Trust | Finance</title>
<link rel="icon" href="/assets/logo.png" />

<style>
:root{
  --bg:#0b0f14;
  --card:#0f1625;
  --line:rgba(255,255,255,.08);
  --txt:#ffffff;
  --muted:rgba(255,255,255,.65);
  --ok:#4cd964;
  --bad:#ff6b6b;
  --radius:16px;
}

*{box-sizing:border-box}

body{
  margin:0;
  background:var(--bg);
  color:var(--txt);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

.wrap{
  max-width:1300px;
  margin:0 auto;
  padding:24px 20px 60px;
}

.top{
  display:flex;
  align-items:center;
  gap:14px;
  margin-bottom:24px;
}

.top img{height:42px}

.card{
  background:var(--card);
  border-radius:var(--radius);
  border:1px solid var(--line);
  margin-bottom:20px;
}

.cardHead{
  padding:14px 18px;
  border-bottom:1px solid var(--line);
  font-weight:700;
}

.cardBody{padding:18px}

.controls{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:12px;
}

select,input,button{
  background:#101c33;
  border:1px solid #23355c;
  color:#fff;
  border-radius:10px;
  padding:8px 10px;
}

button{cursor:pointer}

table{
  width:100%;
  border-collapse:collapse;
  font-size:13px;
}

th,td{
  padding:10px;
  border-bottom:1px solid var(--line);
  text-align:right;
  white-space:nowrap;
}

th:first-child,
td:first-child{ text-align:left }

thead th{
  position:sticky;
  top:0;
  background:#0f1625;
  z-index:2;
}

tbody tr:hover{
  background:rgba(29,78,216,.12);
}

.pos{color:var(--ok)}
.neg{color:var(--bad)}

.kpiChip{
  background:#101c33;
  border:1px solid #23355c;
  border-radius:14px;
  padding:14px 16px;
  min-width:180px;
}

.kpiLabel{font-size:12px;opacity:.6}
.kpiValue{font-size:18px;font-weight:700}

.riskChip{
  display:inline-block;
  padding:4px 8px;
  border-radius:999px;
  font-size:11px;
  font-weight:600;
}

.risk-safe{background:rgba(76,217,100,.15);color:#4cd964}
.risk-90{background:rgba(255,204,102,.18);color:#ffcc66}
.risk-60{background:rgba(255,149,0,.18);color:#ff9500}
.risk-30{background:rgba(255,107,107,.18);color:#ff6b6b}
.risk-expired{background:rgba(255,255,255,.15);color:#bbb}

/* Print */
@page{ margin:40px }

footer{
  position:fixed;
  bottom:12px;
  left:0;right:0;
  text-align:center;
  font-size:10px;
  color:#666;
}

.pageNumber:after{ content:counter(page) }

.watermark{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:96px;
  font-weight:700;
  color:rgba(0,0,0,.05);
  transform:rotate(-30deg);
  pointer-events:none;
}

@media print{
  .controls,button{display:none}
}
</style>
</head>

<body>
<div class="wrap">

<!-- HEADER -->
<div class="top">
  <img src="/assets/logo.png">
  <div>
    <div style="font-weight:700;letter-spacing:.05em">ADEX HOLDINGS TRUST</div>
    <div style="font-size:12px;opacity:.6">Finance Overview</div>
  </div>
</div>

<!-- CONTROLS -->
<div class="card">
  <div class="cardHead">View Options</div>
  <div class="cardBody controls">
    <input id="reserveInput" type="number" value="5000" placeholder="Cash Reserves ($)" onchange="renderTable()">

    <div>
      <select id="propertySelect" multiple onchange="onPropertySelect()"></select>
      <div style="display:flex;gap:8px;margin-top:8px">
        <button onclick="selectAllProperties()">Select All</button>
        <button onclick="clearAllProperties()">Clear All</button>
      </div>
    </div>

    <div>
      <select id="modeToggle" onchange="renderTable()">
        <option value="operator">Operator View</option>
        <option value="investor">Investor View</option>
      </select>

      <select id="viewMode" onchange="renderTable()" style="margin-top:8px">
        <option value="month">Monthly</option>
        <option value="year">Yearly</option>
      </select>

      <input type="month" id="monthSelect" onchange="renderTable()" style="margin-top:8px">
    </div>
  </div>
</div>

<!-- SNAPSHOT -->
<div class="card">
  <div class="cardHead" style="display:flex;justify-content:space-between">
    <span>Portfolio Snapshot</span>
    <button onclick="downloadFinancePDF()">Download PDF</button>
  </div>

  <div class="cardBody" style="display:flex;gap:14px;flex-wrap:wrap">
    <div class="kpiChip"><div class="kpiLabel">Monthly Rent</div><div id="kpiRent" class="kpiValue">$0</div></div>
    <div class="kpiChip"><div class="kpiLabel">Monthly Expenses</div><div id="kpiExpenses" class="kpiValue">$0</div></div>
    <div class="kpiChip"><div class="kpiLabel">Net Cash Flow</div><div id="kpiNet" class="kpiValue">$0</div></div>
    <div class="kpiChip"><div class="kpiLabel">Security Deposits</div><div id="kpiDeposits" class="kpiValue">$0</div></div>
    <div class="kpiChip"><div class="kpiLabel">Annual P&L</div><div id="kpiAnnual" class="kpiValue">$0</div></div>
    <div class="kpiChip"><div class="kpiLabel">Portfolio Stress</div><div id="kpiStress" class="kpiValue">—</div></div>
  </div>
</div>

<!-- TABLE -->
<div class="card">
  <div class="cardHead">Financial Breakdown</div>
  <div class="cardBody" style="max-height:520px;overflow:auto">
    <table>
      <thead>
        <tr>
          <th>Property</th>
          <th>Rent</th>
          <th>Mortgage</th>
          <th>HOA</th>
          <th>Maintenance</th>
          <th>Taxes</th>
          <th>Total Expenses</th>
          <th>Monthly Net</th>
          <th>Annual Net</th>
          <th>Deposit</th>
          <th>Lease Dates</th>
          <th>DSCR</th>
        </tr>
      </thead>
      <tbody id="financeBody"></tbody>
    </table>
  </div>
</div>

</div>

<footer>
Page <span class="pageNumber"></span> • Confidential • Adex Holdings Trust
</footer>

<div class="watermark">CONFIDENTIAL</div>

<script src="/assets/financials.js"></script>
<script src="/finance.js"></script>

<script>
function downloadFinancePDF(){
  window.print();
}
</script>

</body>
</html>
