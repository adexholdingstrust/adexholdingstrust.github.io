<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Adex Holdings Trust | Financials</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex,nofollow" />

  <!-- Favicon / Logo -->
  <link rel="icon" href="assets/logo.png" />

  <!-- Shared Admin Styles -->
  <link rel="stylesheet" href="assets/styles.css" />

  <style>
    body {
      margin: 0;
      background: #0b0f14;
      color: #fff;
      font-family: system-ui, -apple-system, BlinkMacSystemFont;
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 24px 20px 80px;
    }

    /* Top brand bar (matches admin.html) */
    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 28px;
    }

    .brand {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .brand img {
      height: 38px;
      width: auto;
    }

    .brand .title {
      font-weight: 700;
      letter-spacing: 0.04em;
    }

    .brand .subtitle {
      font-size: 12px;
      opacity: 0.6;
    }

    .card {
      background: #0f1625;
      border-radius: 14px;
      padding: 22px;
      box-shadow: 0 0 0 1px rgba(255,255,255,0.04);
    }

    .h1 {
      font-size: 22px;
      margin-bottom: 18px;
    }

    label {
      display: block;
      margin-top: 14px;
      font-size: 13px;
      color: #cbd5f5;
    }

    input,
    select {
      width: 100%;
      margin-top: 6px;
      padding: 10px 12px;
      border-radius: 10px;
      background: #101c33;
      border: 1px solid #23355c;
      color: #fff;
      font-size: 14px;
    }

    input[type="date"] {
      color-scheme: dark;
    }

    .btnPrimary {
      margin-top: 22px;
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      border: none;
      font-weight: 700;
      font-size: 14px;
      background: linear-gradient(135deg, #1d4b34, #153a2a);
      color: #eafff3;
      cursor: pointer;
    }

    .btnPrimary:hover {
      opacity: 0.92;
    }
  </style>
</head>

<body>

<div class="container">

  <!-- TOP BAR -->
  <div class="nav">
    <div class="brand">
      <img src="assets/logo.png" alt="Adex Holdings Trust Logo" />
      <div>
        <div class="title">ADEX HOLDINGS TRUST</div>
        <div class="subtitle">Financial Input</div>
      </div>
    </div>
  </div>

  <!-- FORM CARD -->
  <div class="card">
    <div class="h1">Financial Details</div>

    <!-- REQUIRED HIDDEN FIELD -->
    <input type="hidden" id="editId" />

    <label>Property</label>
    <select id="propertySelect">
  <!-- options injected by JS -->
</select>
    <label for="rent">Monthly Rent</label>
    <input id="rent" type="number" step="0.01" />

    <label for="mortgage">Mortgage</label>
    <input id="mortgage" type="number" step="0.01" />

    <label for="hoa">HOA</label>
    <input id="hoa" type="number" step="0.01" />

    <label for="hoaCompany">HOA Company Name</label>
    <input id="hoaCompany" type="text" placeholder="e.g. ABC Property Management" />

    <label for="hoaWebsite">HOA Website</label>
    <input id="hoaWebsite" type="url" placeholder="https://www.examplehoa.com" />

    <label for="hoaPhone">HOA Phone Number</label>
    <input id="hoaPhone" type="tel" placeholder="(555) 123-4567" />

    <label for="hoaEmail">HOA Email Address</label>
    <input id="hoaEmail" type="email" placeholder="support@examplehoa.com" />

    <label for="maintenance">Maintenance</label>
    <input id="maintenance" type="number" step="0.01" />

    <label for="tax">Taxes</label>
    <input id="tax" type="number" step="0.01" />

    <label for="rentStart">Lease Start</label>
    <input id="rentStart" type="date" />

    <label for="rentEnd">Lease End</label>
    <input id="rentEnd" type="date" />

    <label for="deposit">Security/Down Payment</label>
    <input id="deposit" type="number" step="0.01" />

    <button class="btnPrimary" onclick="saveFinancials()">
      Save Financials
    </button>
  </div>

</div>

<!-- DATA + LOGIC -->
<script src="/assets/financials.js"></script>
<script src="/finance.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const select = document.getElementById("propertySelect");
  if (!select || typeof PROPERTIES === "undefined") return;

  select.innerHTML = `<option value="">Select propertyâ€¦</option>`;

  PROPERTIES.forEach(p => {
    const opt = document.createElement("option");
    opt.value = p.id;
    opt.textContent = p.name;
    select.appendChild(opt);
  });

  select.addEventListener("change", e => {
    const id = e.target.value;
    if (!id) {
      clearForm();
      return;
    }

    const f = FINANCIALS?.[id];
    if (!f) {
      clearForm();
      return;
    }

    document.getElementById("editId").value = id;
    document.getElementById("rent").value = f.rent ?? "";
    document.getElementById("mortgage").value = f.mortgage ?? "";
    document.getElementById("hoa").value = f.hoa ?? "";
    document.getElementById("maintenance").value = f.maintenance ?? "";
    document.getElementById("tax").value = f.tax ?? "";
    document.getElementById("deposit").value = f.deposit ?? "";
    document.getElementById("rentStart").value = f.rentStartDate ?? "";
    document.getElementById("rentEnd").value = f.rentEndDate ?? "";
  });
});

function clearForm() {
  [
    "rent","mortgage","hoa","maintenance",
    "tax","deposit","rentStart","rentEnd","editId"
  ].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.value = "";
  });
}
</script>


</body>
</html>
