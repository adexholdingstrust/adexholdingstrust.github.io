<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Executive Report | Adex Holdings Trust</title>

  <!-- Favicon / Logo -->
  <link rel="icon" href="/assets/logo.png"/>

  <!-- Global Styles -->
  <link rel="stylesheet" href="/assets/styles.css"/>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <!-- Mapbox (container only for now; token added later) -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet"/>

  <style>
    /* ===============================
       EXECUTIVE REPORT STYLES
       =============================== */

    .report-header {
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:28px;
    }

    .report-header-left {
      display:flex;
      gap:16px;
      align-items:center;
    }

    .report-header img {
      height:48px;
      width:auto;
    }

    .report-title h1 {
      margin:0;
      font-size:30px;
    }

    .report-title p {
      margin:6px 0 0;
      opacity:.7;
    }

    .report-actions {
      display:flex;
      gap:10px;
      align-items:center;
    }

    .status-pill {
      padding:6px 12px;
      border-radius:999px;
      font-size:12px;
      background:#1f2937;
      border:1px solid var(--line);
    }

    .grid {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:18px;
    }

    .metric {
      padding:20px;
      border-radius:14px;
      background:linear-gradient(135deg,#0f172a,#020617);
      border:1px solid var(--line);
    }

    .metric h3 {
      margin:0;
      font-size:13px;
      opacity:.7;
      text-transform:uppercase;
      letter-spacing:.04em;
    }

    .metric .value {
      font-size:34px;
      margin-top:8px;
      font-weight:600;
    }

    .metric .delta {
      margin-top:6px;
      font-size:13px;
      opacity:.85;
    }

    .section {
      margin-top:36px;
    }

    .section h2 {
      margin-bottom:14px;
      font-size:22px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    .panel {
      background:#020617;
      border:1px solid var(--line);
      border-radius:14px;
      padding:16px;
    }

    canvas {
      max-height:300px;
    }

    table {
      width:100%;
      border-collapse:collapse;
      font-size:14px;
    }

    th, td {
      padding:12px;
      border-bottom:1px solid var(--line);
      text-align:left;
    }

    th {
      opacity:.7;
      text-transform:uppercase;
      font-size:12px;
    }

    tr:last-child td {
      border-bottom:none;
    }

    .map-container {
      height:360px;
      border-radius:14px;
      background:radial-gradient(circle at center,#020617,#000);
      border:1px dashed var(--line);
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:.6;
    }

    .map-container span {
      font-size:14px;
    }

    .insight {
      background:#020617;
      border-left:4px solid #4da3ff;
      padding:18px;
      border-radius:12px;
    }

    .footer {
      margin-top:50px;
      opacity:.6;
      font-size:12px;
      text-align:center;
    }
  </style>
</head>

<body>
<div class="container">

  <!-- HEADER -->
  <div class="report-header">
    <div class="report-header-left">
      <img src="/assets/logo.png" alt="Adex Holdings Trust"/>
      <div class="report-title">
        <h1>Adex Holdings Trust — Executive Report</h1>
        <p>Trend arrows · Line + bar charts · Geo demand · QoQ / YoY · Funnel · AI summary</p>
      </div>
    </div>

    <div class="report-actions">
      <span class="status-pill" id="reportStatus">Loading…</span>
      <button class="btn" onclick="location.reload()">Refresh</button>
      <button class="btn primary">Generate Exec Summary</button>
      <button class="btn">Download CSV</button>
    </div>
  </div>

  <!-- META -->
  <div class="small">
    Last updated: <strong><span id="reportTime"></span></strong>
  </div>

  <!-- KPI SUMMARY -->
  <div class="section">
    <h2>KPI Summary</h2>
    <div class="grid" id="kpiSummary"></div>
  </div>

  <!-- ENGAGEMENT -->
  <div class="section">
    <h2>Engagement Over Time</h2>
    <div class="panel">
      <canvas id="engagementChart"></canvas>
    </div>
  </div>

  <!-- FUNNEL -->
  <div class="section">
    <h2>Funnel Conversion</h2>
    <div class="panel">
      <table>
        <thead>
          <tr>
            <th>Stage</th>
            <th>Count</th>
            <th>Conversion</th>
          </tr>
        </thead>
        <tbody id="funnelBody"></tbody>
      </table>
    </div>
  </div>

  <!-- GEO DEMAND -->
  <div class="section">
    <h2>Geographic Demand</h2>
    <div class="map-container">
      <span>Geo heatmap will render here (Mapbox)</span>
    </div>
  </div>

  <!-- EXEC SUMMARY -->
  <div class="section">
    <h2>Executive Summary</h2>
    <div id="execSummary"></div>
  </div>

  <!-- FOOTER -->
  <div class="footer">
    Confidential · Executive Use Only · © 2025 Adex Holdings Trust
  </div>

</div>

<!-- REPORT LOGIC -->
<script src="/assets/report.js"></script>

</body>
</html>
